{% extends "nav.html" %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
{% block head %}
    <title>Request a Ride</title>
    <link rel="stylesheet" href="{% static 'success.css' %}">
{% endblock head %}



{% block body %}
    {% if user %}
    
    <h1 style="margin-top:120px; text-align:center; color:black;">Welcome ,{{user.fullname}} </h1>
    {% endif %}
    <div  class="request-ride-container">
        {% if success %}
            <script>
                <div class="alert alert-success" role="alert">
                    {{ success }}
                </div>
            </script>
        {% endif %}

        {% if warning %}
            <script>
                <div class="alert alert-info" role="alert">
                    {{ warning }}
                </div>
            </script>
        {% endif %}

        <h1>Request a Ride</h1>
        <p>Fill out the form below to book your ride.</p>
        <form action="{% url 'submit-ride-request' %}" method="post">
            {% csrf_token %}
            <!-- Hidden input field to pass the user object -->
            <input type="hidden" name="user_id" value="{{ user }}">
            
            <div class="form-group">
                <label for="pickup-location">Pick-up Location:</label>
                <input type="text" id="pickup-location" name="pickup_location" required>
            </div>
            <div class="form-group">
                <label for="dropoff-location">Drop-off Location:</label>
                <input type="text" id="dropoff-location" name="dropoff_location" required>
            </div>
            <div class="form-group">
                <label for="pickup-time">Pick-up Time:</label>
                <input type="time" id="pickup-time" name="pickup_time" required>
            </div>
            <div class="form-group">
                <label for="ride-type">Type of Ride:</label>
                <select id="ride-type" name="ride_type">
                    <option value="standard">Standard</option>
                    <option value="premium">Premium</option>
                </select>
            </div>
            <button type="submit" class="req">Request Ride</button>
        </form>
    </div>
{% endblock body %}
